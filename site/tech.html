<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How It's Built | BlueMoxon</title>
    <meta name="description" content="BlueMoxon technical architecture — AWS serverless infrastructure, CI/CD pipeline, and REST API documentation for a rare book collection management platform.">

    <!-- Favicons -->
    <link rel="icon" href="/favicon.ico" sizes="48x48">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/shared.css">

    <!-- Mermaid -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"></script>

    <style>
        /* Page Header */
        .page-header {
            padding: 8rem 2rem 3rem;
            text-align: center;
            background: linear-gradient(180deg, var(--gradient-start) 0%, var(--bg-primary) 100%);
        }

        .page-header h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #fff 0%, var(--accent-blue-light) 50%, var(--accent-purple) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .page-header p {
            color: var(--text-secondary);
            font-size: 1.125rem;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.8;
        }

        /* Sections */
        section {
            padding: 6rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-header h2 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .section-header p {
            color: var(--text-secondary);
            font-size: 1.125rem;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Terminal Output */
        .terminal {
            background: var(--bg-code);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border-color);
            margin: 2rem 0;
        }

        .terminal-header {
            background: #1a1f2e;
            padding: 0.75rem 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border-bottom: 1px solid var(--border-color);
        }

        .terminal-header .dots {
            display: flex;
            gap: 6px;
        }

        .terminal-header .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .terminal-header .dot.red { background: #ff5f56; }
        .terminal-header .dot.yellow { background: #ffbd2e; }
        .terminal-header .dot.green { background: #27ca40; }

        .terminal-header .title {
            flex: 1;
            text-align: center;
            color: var(--text-muted);
            font-size: 0.8rem;
            font-family: 'JetBrains Mono', monospace;
        }

        .terminal-body {
            padding: 1.5rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.7;
            overflow-x: auto;
            white-space: pre-wrap;
        }

        .terminal-body .prompt { color: var(--accent-green); }
        .terminal-body .command { color: var(--text-primary); }
        .terminal-body .success { color: var(--accent-green); }
        .terminal-body .info { color: var(--accent-blue-light); }
        .terminal-body .warning { color: var(--accent-amber); }
        .terminal-body .error { color: var(--accent-red); }
        .terminal-body .muted { color: var(--text-muted); }

        /* Architecture Diagrams */
        .diagram-container {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            border: 1px solid var(--border-color);
            overflow-x: auto;
        }

        .diagram-container h4 {
            margin-bottom: 1.5rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .mermaid {
            display: flex;
            justify-content: center;
        }

        /* Tech Stack Grid */
        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .tech-card {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid var(--border-color);
        }

        .tech-card h4 {
            color: var(--accent-blue-light);
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 1rem;
        }

        .tech-card ul {
            list-style: none;
        }

        .tech-card li {
            padding: 0.5rem 0;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .tech-card li::before {
            content: '';
            width: 6px;
            height: 6px;
            background: var(--accent-blue);
            border-radius: 50%;
        }

        .tech-card li strong {
            color: var(--text-primary);
        }

        /* API Endpoints Table */
        .api-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 2rem;
        }

        .api-table th,
        .api-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .api-table th {
            background: var(--bg-secondary);
            color: var(--text-secondary);
            font-weight: 600;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .api-table td {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
        }

        .api-table .method {
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.75rem;
        }

        .api-table .method.get { background: rgba(16, 185, 129, 0.2); color: var(--accent-green); }
        .api-table .method.post { background: rgba(59, 130, 246, 0.2); color: var(--accent-blue-light); }
        .api-table .method.put { background: rgba(245, 158, 11, 0.2); color: var(--accent-amber); }
        .api-table .method.patch { background: rgba(139, 92, 246, 0.2); color: var(--accent-purple); }
        .api-table .method.delete { background: rgba(239, 68, 68, 0.2); color: var(--accent-red); }

        /* JSON Display */
        .json-display {
            background: var(--bg-code);
            border-radius: 8px;
            padding: 1.5rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
            border: 1px solid var(--border-color);
        }

        .json-display .key { color: #7dd3fc; }
        .json-display .string { color: #a5d6a7; }
        .json-display .number { color: #f9a825; }
        .json-display .boolean { color: #ce93d8; }

        /* Responsive */
        @media (max-width: 768px) {
            .page-header {
                padding: 6rem 1rem 2rem;
            }

            .page-header h1 {
                font-size: 2rem;
            }

            .page-header p {
                font-size: 1rem;
            }

            section {
                padding: 3rem 1rem;
            }

            .section-header h2 {
                font-size: 1.75rem;
            }

            .section-header p {
                font-size: 1rem;
            }

            /* Tech grid */
            .tech-grid {
                grid-template-columns: 1fr;
            }

            /* Terminal blocks */
            .terminal-body {
                padding: 1rem;
                font-size: 0.75rem;
                overflow-x: auto;
            }

            .terminal-header .title {
                font-size: 0.7rem;
            }

            /* Diagrams */
            .diagram-container {
                padding: 1rem;
                overflow-x: auto;
            }

            .diagram-container h4 {
                font-size: 0.9rem;
            }

            /* API Table - horizontal scroll */
            .api-table {
                display: block;
                overflow-x: auto;
                white-space: nowrap;
            }

            .api-table th,
            .api-table td {
                padding: 0.75rem;
                font-size: 0.8rem;
            }
        }

        /* Extra small screens */
        @media (max-width: 480px) {
            .page-header h1 {
                font-size: 1.75rem;
            }

            .section-header h2 {
                font-size: 1.5rem;
            }

            .terminal-body {
                font-size: 0.65rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-content">
            <a href="/" class="logo">
                <img src="/images/bluemoxon-logo.png" alt="BlueMoxon" height="40">
            </a>
            <button class="hamburger" aria-label="Toggle menu" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-links">
                <li><a href="/#whats-new">What's New</a></li>
                <li><a href="/#features">Features</a></li>
                <li><a href="/#screenshots">Screenshots</a></li>
                <li><a href="/#about">About</a></li>
                <li><a href="/tech.html" class="nav-highlight">How It's Built</a></li>
            </ul>
            <a href="https://app.bluemoxon.com" class="btn-login" target="_blank" rel="noopener noreferrer">Login</a>
        </div>
    </nav>

    <!-- Page Header -->
    <div class="page-header">
        <h1>How It's Built</h1>
        <p>BlueMoxon is built on AWS serverless infrastructure — Lambda, Aurora PostgreSQL, CloudFront, and Cognito. Here's how it all fits together.</p>
    </div>

    <!-- Architecture Section -->
    <section id="architecture">
        <div class="section-header">
            <h2>System Architecture</h2>
            <p>Serverless, scalable, and cost-optimized for a personal collection</p>
        </div>

        <div class="diagram-container">
            <h4>Infrastructure Overview</h4>
            <div class="mermaid">
graph TB
    subgraph Client["Client Layer"]
        Browser[Browser]
    end
    subgraph CDN["CDN Layer"]
        CF[CloudFront<br/>Global Edge]
    end
    subgraph App["Application Layer"]
        APIGW[API Gateway]
        Lambda[Lambda<br/>Python 3.x]
    end
    subgraph Data["Data Layer"]
        Aurora[(Aurora PostgreSQL<br/>Serverless v2)]
        ElastiCache[(ElastiCache Redis<br/>Serverless)]
        S3_Img[S3 Images]
        S3_Web[S3 Static Site]
        Secrets[Secrets Manager]
    end
    subgraph Auth["Auth Layer"]
        Cognito[Cognito<br/>User Pool]
    end
    Browser -->|HTTPS| CF
    CF -->|Static| S3_Web
    CF -->|Images| S3_Img
    CF -->|API| APIGW
    APIGW -->|Invoke| Lambda
    Lambda -->|Query| Aurora
    Lambda -->|Cache| ElastiCache
    Lambda -->|Read/Write| S3_Img
    Lambda -->|Secrets| Secrets
    APIGW -->|Validate JWT| Cognito
    Browser -->|Authenticate| Cognito
    style CF fill:#9C27B0,color:#fff
    style Lambda fill:#FF9800,color:#fff
    style Aurora fill:#2196F3,color:#fff
    style ElastiCache fill:#DC382D,color:#fff
    style Cognito fill:#4CAF50,color:#fff
            </div>
        </div>

        <!-- AI Valuation Flow -->
        <div class="diagram-container">
            <h4>AI-Powered Valuation Flow (AWS Bedrock + Claude Opus/Sonnet/Haiku)</h4>
            <div class="mermaid">
flowchart TB
    subgraph Input["Acquisition Input"]
        eBay[eBay Listing URL]
        Manual[Manual Entry]
    end
    subgraph Import["Data Import"]
        Parse[Parse Listing<br/>Title, Price, Images]
        Archive[Wayback Archive<br/>Snapshot Storage]
    end
    subgraph AI["AWS Bedrock AI Layer"]
        Bedrock[AWS Bedrock<br/>Claude Sonnet 4]
        Napoleon[Napoleon Framework<br/>Valuation Prompt]
    end
    subgraph Analysis["Valuation Output"]
        Condition[Condition Assessment<br/>Binding, Pages, Foxing]
        Market[Market Analysis<br/>Comparable Sales]
        FMV[Fair Market Value<br/>Low/Mid/High Range]
    end
    subgraph Scoring["Investment Scoring"]
        Grade[Investment Grade<br/>0-100 Score]
        Fit[Strategic Fit<br/>0-7 Collection Match]
    end
    subgraph Storage["Data Layer"]
        DB[(Aurora PostgreSQL)]
        S3[S3 Images]
    end
    eBay --> Parse
    Manual --> Parse
    Parse --> Archive
    Parse --> Bedrock
    Napoleon --> Bedrock
    Bedrock --> Condition
    Bedrock --> Market
    Condition --> FMV
    Market --> FMV
    FMV --> Grade
    Grade --> Fit
    Fit --> DB
    Parse --> S3
    Archive --> S3
    style Bedrock fill:#FF9800,color:#fff
    style Napoleon fill:#8b5cf6,color:#fff
    style Grade fill:#10b981,color:#fff
    style Fit fill:#3b82f6,color:#fff
    style DB fill:#2196F3,color:#fff
            </div>
        </div>

        <!-- Tech Stack -->
        <div class="tech-grid">
            <div class="tech-card">
                <h4>Frontend</h4>
                <ul>
                    <li><strong>Vue 3</strong> - Composition API</li>
                    <li><strong>TypeScript</strong> - Type safety</li>
                    <li><strong>Pinia</strong> - State management</li>
                    <li><strong>Tailwind CSS</strong> - Utility-first styling</li>
                    <li><strong>Vite</strong> - Build tooling</li>
                    <li><strong>Container Queries</strong> - Component-level responsive</li>
                </ul>
            </div>
            <div class="tech-card">
                <h4>Backend</h4>
                <ul>
                    <li><strong>FastAPI</strong> - Async REST API</li>
                    <li><strong>Python 3.x</strong> - Runtime</li>
                    <li><strong>SQLAlchemy 2.0</strong> - Async ORM</li>
                    <li><strong>Pydantic v2</strong> - Validation</li>
                    <li><strong>Alembic</strong> - Migrations</li>
                    <li><strong>SQS Async</strong> - Queue-based AI with retry</li>
                    <li><strong>API Keys</strong> - CLI/automation access</li>
                    <li><strong>Model Selection</strong> - Sonnet/Opus config</li>
                </ul>
            </div>
            <div class="tech-card">
                <h4>Infrastructure</h4>
                <ul>
                    <li><strong>AWS Lambda</strong> - Serverless compute</li>
                    <li><strong>Aurora Serverless v2</strong> - Auto-scaling DB</li>
                    <li><strong>ElastiCache Redis</strong> - Dashboard caching</li>
                    <li><strong>CloudFront</strong> - Global CDN</li>
                    <li><strong>Cognito</strong> - Authentication</li>
                    <li><strong>Terraform</strong> - Infrastructure as code</li>
                </ul>
            </div>
            <div class="tech-card">
                <h4>Security</h4>
                <ul>
                    <li><strong>SAST</strong> - Bandit + Semgrep</li>
                    <li><strong>Dependency Scan</strong> - pip-audit</li>
                    <li><strong>Secret Scan</strong> - Gitleaks</li>
                    <li><strong>JWT Auth</strong> - Cognito tokens</li>
                    <li><strong>TLS 1.3</strong> - Encryption in transit</li>
                </ul>
            </div>
        </div>

        <!-- Performance Optimizations -->
        <div class="diagram-container" style="margin-top: 3rem;">
            <h4>Performance Optimizations</h4>
            <div class="tech-grid" style="margin-top: 1rem;">
                <div class="tech-card">
                    <h4>Redis Caching</h4>
                    <ul>
                        <li><strong>ElastiCache Serverless</strong> - Auto-scaling Redis</li>
                        <li><strong>Dashboard Stats</strong> - Cached for instant loads</li>
                        <li><strong>Reference Data</strong> - Authors, publishers, binders</li>
                        <li><strong>Smart Invalidation</strong> - Updates on data changes</li>
                    </ul>
                </div>
                <div class="tech-card">
                    <h4>Cold Start UX</h4>
                    <ul>
                        <li><strong>API Retry Logic</strong> - Automatic retry on timeout</li>
                        <li><strong>Reference Pre-caching</strong> - Load entities on startup</li>
                        <li><strong>Graceful Degradation</strong> - Show cached data first</li>
                        <li><strong>Loading States</strong> - Skeleton UI during fetch</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- CI/CD Pipeline Section -->
    <section id="pipeline">
        <div class="section-header">
            <h2>CI/CD Pipeline</h2>
            <p>Automated testing, security scanning, and deployment on every push</p>
        </div>

        <!-- Live Pipeline Output -->
        <div class="terminal">
            <div class="terminal-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span class="title">gh run view - Deploy Workflow</span>
            </div>
            <div class="terminal-body">
<span class="success">&#10003;</span> <span class="info">main</span> Deploy <span class="muted">&#183; 19950842156</span>
<span class="muted">Triggered via push about 1 hour ago</span>

<span class="info">JOBS</span>
<span class="success">&#10003;</span> CI Checks / Backend Lint <span class="muted">in 29s</span>
<span class="success">&#10003;</span> CI Checks / Backend Tests <span class="muted">in 1m10s</span>
<span class="success">&#10003;</span> CI Checks / Backend Type Check <span class="muted">in 36s</span>
<span class="success">&#10003;</span> CI Checks / SAST Security Scan <span class="muted">in 1m24s</span>
<span class="success">&#10003;</span> CI Checks / Secret & Vulnerability Scan <span class="muted">in 32s</span>
<span class="success">&#10003;</span> CI Checks / Frontend Build <span class="muted">in 42s</span>
<span class="success">&#10003;</span> CI Checks / Frontend Lint <span class="muted">in 28s</span>
<span class="success">&#10003;</span> CI Checks / Backend Validation <span class="muted">in 24s</span>
<span class="success">&#10003;</span> CI Checks / Frontend Tests <span class="muted">in 28s</span>
<span class="success">&#10003;</span> CI Checks / Dependency Security Scan <span class="muted">in 38s</span>
<span class="success">&#10003;</span> CI Checks / Frontend Type Check <span class="muted">in 31s</span>
<span class="success">&#10003;</span> CI Checks / CI Complete <span class="muted">in 4s</span>
<span class="success">&#10003;</span> Build Frontend <span class="muted">in 40s</span>
<span class="success">&#10003;</span> Build Lambda Package <span class="muted">in 51s</span>
<span class="success">&#10003;</span> Deploy to Production <span class="muted">in 55s</span>
<span class="success">&#10003;</span> Smoke Tests <span class="muted">in 43s</span>
<span class="success">&#10003;</span> Create Release Tag <span class="muted">in 6s</span>

<span class="info">ARTIFACTS</span>
<span class="muted">gitleaks-results.sarif</span>
<span class="muted">semgrep-report</span>
<span class="muted">bandit-report</span>
<span class="muted">frontend-dist</span>
<span class="muted">lambda-package</span>
            </div>
        </div>

        <!-- Staging-First Workflow Diagram -->
        <div class="diagram-container">
            <h4>Staging-First Deployment Strategy</h4>
            <div class="mermaid">
flowchart LR
    subgraph Dev["Development"]
        Feature[Feature Branch]
    end
    subgraph PR1["PR to Staging"]
        CI1[CI Checks<br/>12 parallel jobs]
    end
    subgraph Staging["Staging Environment"]
        Deploy1[Deploy to Staging]
        Test1[Smoke Tests]
        Validate[Manual Validation]
    end
    subgraph PR2["PR to Production"]
        CI2[CI Checks]
    end
    subgraph Prod["Production"]
        Deploy2[Deploy to Prod]
        Test2[Smoke Tests]
        Tag[Release Tag<br/>v2025.12.10-abc123]
    end
    Feature -->|PR| CI1
    CI1 -->|Merge| Deploy1
    Deploy1 --> Test1
    Test1 --> Validate
    Validate -->|PR main| CI2
    CI2 -->|Merge| Deploy2
    Deploy2 --> Test2
    Test2 --> Tag
    style Feature fill:#4CAF50,color:#fff
    style CI1 fill:#3b82f6,color:#fff
    style Staging fill:#f59e0b,color:#000
    style Prod fill:#9C27B0,color:#fff
    style Tag fill:#10b981,color:#fff
            </div>
        </div>

        <!-- Pipeline Diagram -->
        <div class="diagram-container">
            <h4>CI/CD Pipeline Detail</h4>
            <div class="mermaid">
flowchart LR
    subgraph Trigger
        Push[Push to branch]
    end
    subgraph CI["CI Checks (Parallel)"]
        Lint[Lint<br/>Ruff + ESLint]
        Test[Tests<br/>pytest + vitest]
        Type[Type Check<br/>mypy + vue-tsc]
        SAST[SAST<br/>Bandit + Semgrep]
        Deps[Dependency Scan<br/>pip-audit + npm]
        Secrets[Secret Scan<br/>Trivy + Gitleaks]
    end
    subgraph Build
        Lambda[Lambda Package<br/>Python 3.12]
        Vue[Frontend Dist<br/>Vite build]
    end
    subgraph Deploy
        S3[S3 Sync]
        Fn[Update Lambda]
        CF[Invalidate CDN]
    end
    subgraph Verify
        Smoke[Smoke Tests]
        Tag[Release Tag]
    end
    Push --> Lint
    Push --> Test
    Push --> Type
    Push --> SAST
    Push --> Deps
    Push --> Secrets
    Lint --> Lambda
    Test --> Lambda
    Type --> Lambda
    SAST --> Lambda
    Deps --> Lambda
    Secrets --> Lambda
    Lint --> Vue
    Test --> Vue
    Type --> Vue
    Lambda --> Fn
    Vue --> S3
    Fn --> CF
    S3 --> CF
    CF --> Smoke
    Smoke --> Tag
    style Push fill:#4CAF50,color:#fff
    style SAST fill:#f44336,color:#fff
    style Secrets fill:#f44336,color:#fff
    style Tag fill:#9C27B0,color:#fff
            </div>
        </div>

        <!-- Health Checks -->
        <div class="terminal">
            <div class="terminal-header">
                <div class="dots">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <span class="title">curl api.bluemoxon.com/api/v1/health/deep | jq</span>
            </div>
            <div class="terminal-body">
<pre class="json-display">{
  <span class="key">"status"</span>: <span class="string">"healthy"</span>,
  <span class="key">"timestamp"</span>: <span class="string">"2026-01-02T15:30:00.000000+00:00"</span>,
  <span class="key">"version"</span>: <span class="string">"2026.01.02-9033e57"</span>,
  <span class="key">"environment"</span>: <span class="string">"production"</span>,
  <span class="key">"total_latency_ms"</span>: <span class="number">145.2</span>,
  <span class="key">"checks"</span>: {
    <span class="key">"database"</span>: {
      <span class="key">"status"</span>: <span class="string">"healthy"</span>,
      <span class="key">"latency_ms"</span>: <span class="number">45.8</span>,
      <span class="key">"book_count"</span>: <span class="number">152</span>
    },
    <span class="key">"s3"</span>: {
      <span class="key">"status"</span>: <span class="string">"healthy"</span>,
      <span class="key">"bucket"</span>: <span class="string">"bluemoxon-images"</span>,
      <span class="key">"latency_ms"</span>: <span class="number">52.3</span>,
      <span class="key">"has_objects"</span>: <span class="boolean">true</span>
    },
    <span class="key">"cognito"</span>: {
      <span class="key">"status"</span>: <span class="string">"healthy"</span>,
      <span class="key">"latency_ms"</span>: <span class="number">47.1</span>
    }
  }
}</pre>
            </div>
        </div>
    </section>

    <!-- API Section -->
    <section id="api">
        <div class="section-header">
            <h2>REST API</h2>
            <p>60+ endpoints for complete collection management</p>
        </div>

        <h4 style="color: var(--accent-blue-light); margin-bottom: 1rem;">Books & Collection</h4>
        <table class="api-table">
            <thead>
                <tr>
                    <th>Method</th>
                    <th>Endpoint</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="method get">GET</span></td>
                    <td>/api/v1/books</td>
                    <td>List all books with pagination and filtering</td>
                </tr>
                <tr>
                    <td><span class="method get">GET</span></td>
                    <td>/api/v1/books/{id}</td>
                    <td>Get complete book details with images and analysis</td>
                </tr>
                <tr>
                    <td><span class="method post">POST</span></td>
                    <td>/api/v1/books</td>
                    <td>Create a new book record</td>
                </tr>
                <tr>
                    <td><span class="method put">PUT</span></td>
                    <td>/api/v1/books/{id}</td>
                    <td>Update book metadata</td>
                </tr>
                <tr>
                    <td><span class="method patch">PATCH</span></td>
                    <td>/api/v1/books/{id}/status</td>
                    <td>Update delivery status (IN_TRANSIT, ON_HAND)</td>
                </tr>
                <tr>
                    <td><span class="method post">POST</span></td>
                    <td>/api/v1/books/{id}/images</td>
                    <td>Upload book images to CDN</td>
                </tr>
                <tr>
                    <td><span class="method put">PUT</span></td>
                    <td>/api/v1/books/{id}/analysis/raw</td>
                    <td>Update markdown analysis document</td>
                </tr>
            </tbody>
        </table>

        <h4 style="color: var(--accent-purple); margin: 2rem 0 1rem;">Acquisitions & Scoring</h4>
        <table class="api-table">
            <thead>
                <tr>
                    <th>Method</th>
                    <th>Endpoint</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="method get">GET</span></td>
                    <td>/api/v1/acquisitions</td>
                    <td>List acquisitions with status filter (watchlist, in_transit, on_hand)</td>
                </tr>
                <tr>
                    <td><span class="method post">POST</span></td>
                    <td>/api/v1/acquisitions</td>
                    <td>Create new acquisition with automatic scoring</td>
                </tr>
                <tr>
                    <td><span class="method post">POST</span></td>
                    <td>/api/v1/acquisitions/parse-order</td>
                    <td>Parse eBay order text to extract listing details</td>
                </tr>
                <tr>
                    <td><span class="method patch">PATCH</span></td>
                    <td>/api/v1/acquisitions/{id}</td>
                    <td>Update acquisition status or details</td>
                </tr>
                <tr>
                    <td><span class="method post">POST</span></td>
                    <td>/api/v1/acquisitions/{id}/convert</td>
                    <td>Convert acquisition to collection book entry</td>
                </tr>
                <tr>
                    <td><span class="method post">POST</span></td>
                    <td>/api/v1/acquisitions/{id}/archive</td>
                    <td>Save listing to Wayback Machine</td>
                </tr>
            </tbody>
        </table>

        <h4 style="color: var(--accent-amber); margin: 2rem 0 1rem;">AI Valuations (AWS Bedrock)</h4>
        <table class="api-table">
            <thead>
                <tr>
                    <th>Method</th>
                    <th>Endpoint</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="method post">POST</span></td>
                    <td>/api/v1/books/{id}/valuation</td>
                    <td>Generate AI valuation using Napoleon Framework (Claude Sonnet 4)</td>
                </tr>
                <tr>
                    <td><span class="method post">POST</span></td>
                    <td>/api/v1/acquisitions/{id}/score</td>
                    <td>Calculate Investment Grade and Strategic Fit scores</td>
                </tr>
            </tbody>
        </table>

        <h4 style="color: var(--accent-green); margin: 2rem 0 1rem;">Health & Export</h4>
        <table class="api-table">
            <thead>
                <tr>
                    <th>Method</th>
                    <th>Endpoint</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="method get">GET</span></td>
                    <td>/api/v1/export/csv</td>
                    <td>Export collection as CSV</td>
                </tr>
                <tr>
                    <td><span class="method get">GET</span></td>
                    <td>/api/v1/health/deep</td>
                    <td>Deep health check with all dependencies</td>
                </tr>
                <tr>
                    <td><span class="method get">GET</span></td>
                    <td>/api/v1/health/version</td>
                    <td>Get deployed version and build info</td>
                </tr>
            </tbody>
        </table>

        <div style="text-align: center; margin-top: 2rem;">
            <a href="https://api.bluemoxon.com/docs" class="btn btn-primary" target="_blank" rel="noopener noreferrer">
                View API Docs (Swagger)
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-links">
            <a href="/">Home</a>
            <a href="/features.html">Features</a>
            <a href="/admin-guide.html">Admin Guide</a>
            <a href="/releases.html">Releases</a>
            <a href="/tech.html">How It's Built</a>
            <a href="https://app.bluemoxon.com" target="_blank" rel="noopener noreferrer">Login</a>
        </div>
        <p>&copy; 2026 BlueMoxon</p>
    </footer>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                darkMode: true,
                primaryColor: '#3b82f6',
                primaryTextColor: '#f1f5f9',
                primaryBorderColor: '#1e293b',
                lineColor: '#64748b',
                secondaryColor: '#1e293b',
                tertiaryColor: '#111827'
            }
        });
    </script>

    <script src="/js/shared.js"></script>
</body>
</html>
